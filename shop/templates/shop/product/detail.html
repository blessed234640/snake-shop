{% extends "shop/base.html" %}
{% load static %}

{% block title %}
  {{ product.name }} - Snake Paradise
{% endblock %}

{% block content %}
  <div class="product-detail">
    <div class="product-image">
      <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'shop/img/no_image.png' %}{% endif %}"
           alt="{{ product.name }}">
    </div>

    <div class="product-info">
      <h1>{{ product.name }}</h1>
      <h2 style="color: var(--text-secondary); margin: 1rem 0;">
        üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏—è:
        <a href="{{ product.category.get_absolute_url }}" style="color: var(--accent-primary);">
          {{ product.category }}
        </a>
      </h2>

      <div class="price">‚ÇΩ{{ product.price }}</div>

      <!-- –§–æ—Ä–º–∞ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ -->
      <form action="{% url 'cart:cart_add' product.id %}" method="post" style="margin: 2.5rem 0;">
        <div style="margin-bottom: 1.5rem;"> <!-- –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —Å—á–µ—Ç—á–∏–∫–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π -->
          {{ cart_product_form }}
        </div>
        {% csrf_token %}
        <input type="submit" value="üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É" class="button">
      </form>

      <div class="product-description">
        <h3 style="color: var(--accent-primary); margin-bottom: 1rem;">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
        <div style="color: var(--text-secondary); line-height: 1.8;">
          {{ product.description|linebreaks }}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
