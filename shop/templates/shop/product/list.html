{% extends "shop/base.html" %}
{% load static %}

{% block title %}
  {% if category %}{{ category.name }} - Snake Paradise{% else %}–ü—Ä–µ–º–∏—É–º –∑–º–µ–∏ - Snake Paradise{% endif %}
{% endblock %}

{% block content %}
  <div class="catalog-container">
    <div id="sidebar">
      <h3>üêç –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
      <ul>
        <li {% if not category %}class="selected"{% endif %}>
          <a href="{% url 'shop:product_list' %}">
            üåü –í—Å–µ –∑–º–µ–∏
          </a>
        </li>
        {% for c in categories %}
          <li {% if category.slug == c.slug %}class="selected"{% endif %}>
            <a href="{{ c.get_absolute_url }}">
              {{ c.name }}
            </a>
          </li>
        {% endfor %}
      </ul>

      <div style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-header); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
        <h4 style="color: var(--accent-primary); margin-bottom: 1rem;">‚ÑπÔ∏è –°–æ–≤–µ—Ç—ã –ø–æ —É—Ö–æ–¥—É</h4>
        <p style="font-size: 0.9rem; color: var(--text-secondary);">
          –í—Å–µ –Ω–∞—à–∏ –∑–º–µ–∏ –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Ö–æ–¥—É –∏ –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∑–¥–æ—Ä–æ–≤—å—è.
        </p>
      </div>
    </div>

    <div id="main" class="product-list-container">
      <div class="page-header">
        <h1>
          {% if category %}
            {{ category.name }}
          {% else %}
            üêç –ö–æ–ª–ª–µ–∫—Ü–∏—è –ø—Ä–µ–º–∏—É–º –∑–º–µ–π
          {% endif %}
        </h1>
        <p style="color: var(--text-secondary); font-size: 1.1rem; margin-top: 0.5rem;">
          {% if category %}
            –ò–∑—É—á–∏—Ç–µ –Ω–∞—à—É –ø–æ–¥–±–æ—Ä–∫—É –∑–º–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ {{ category.name }}
          {% else %}
            –û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –Ω–∞—à—É —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –∑–¥–æ—Ä–æ–≤—ã—Ö –∏ —É—Ö–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ–ø—Ç–∏–ª–∏–π
          {% endif %}
        </p>
      </div>

      <div class="product-list">
        {% for product in products %}
          <div class="item">
            <a href="{{ product.get_absolute_url }}">
              <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'shop/img/no_image.png' %}{% endif %}"
                   alt="{{ product.name }}">
              <h3 class="product-name">{{ product.name }}</h3>
            </a>
            <div class="price">‚ÇΩ{{ product.price }}</div>
            <form action="{% url 'cart:cart_add' product.id %}" method="post">
              {{ cart_product_form }}
              {% csrf_token %}
              <input type="submit" value="üõí –í –∫–æ—Ä–∑–∏–Ω—É" class="button" style="width: 100%; margin-top: 1rem;">
            </form>
          </div>
        {% empty %}
          <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--text-secondary);">
            <h3>–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç –∑–º–µ–π</h3>
            <p>–ó–∞–≥–ª—è–Ω–∏—Ç–µ –ø–æ–∑–∂–µ - —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è!</p>
            <a href="{% url 'shop:product_list' %}" class="button" style="margin-top: 1rem;">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –∑–º–µ–π</a>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}
